!function(a,b){if("function"==typeof define&&define.amd)define(["underscore","moment"],b);else if("undefined"!=typeof exports){var c=require("underscore"),d=require("moment");module.exports=b(c,d)}else a.TimeSegments=b(a._,a.moment)}(this,function(a,b){"use strict";var c={segment:function(c,d,e){d=d||"weeks",e=e||{},a.defaults(e,{startAttribute:"start",endAttribute:"end"});var f,g,h,i,j={};return c=a.chain(c).clone().map(function(c){if(f=c[e.startAttribute],g=c[e.endAttribute],h=b.isMoment(f),i=b.isMoment(g),!(h&&i||e.timeFormat))throw new Error("Parsing strings into dates requires the `timeFormat` option.");return f=b.isMoment(f)?f:b.utc(f,e.timeFormat),g=b.isMoment(g)?g:b.utc(g,e.timeFormat),{start:f,end:g,original:a.clone(c)}}).sortBy(function(a){return a.start.unix()}).each(function(a){for(var c,e=b.utc(a.start).startOf(d),f=b.utc(a.end).endOf(d).add(1,"milliseconds"),g=0,h=f.diff(e,d);h>g;g++)c=b.utc(e).add(g,d).unix(),j[c]||(j[c]=[]),j[c].push(a.original)}),j}};return c});
//# sourceMappingURL=time-segments.min.js.map